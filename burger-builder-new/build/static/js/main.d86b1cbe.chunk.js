(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],{14:function(e,t,n){"use strict";t.a=function(e){return e.children}},19:function(e,t,n){"use strict";var r=n(25),a=n.n(r).a.create({baseURL:"https://react-my-burger-rohit.firebaseio.com/"});t.a=a},21:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__2x3tZ",Logo:"SideDrawer_Logo__myTQp",Open:"SideDrawer_Open__1OnNg",Close:"SideDrawer_Close__1RwH4"}},24:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(49),i=n.n(o);t.a=function(e){return e.show?a.a.createElement("div",{className:i.a.Backdrop,onClick:function(){return e.clicked()}}):null}},26:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__2vTWg",Logo:"Toolbar_Logo__2oyjj",DeskTopOnly:"Toolbar_DeskTopOnly__1iwkI"}},28:function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__1Q7w5",active:"NavigationItem_active__UJJd7"}},35:function(e,t,n){"use strict";var r=n(10),a=n(11),o=n(13),i=n(12),c=n(0),l=n.n(c),u=n(51),s=n.n(u),d=n(24),h=n(14),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(d.a,{show:this.props.show,clicked:this.props.modalClose}),l.a.createElement("div",{style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"},className:s.a.Modal},this.props.children))}}]),n}(c.Component);t.a=m},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return E})),n.d(t,"r",(function(){return v})),n.d(t,"o",(function(){return O})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return y})),n.d(t,"m",(function(){return j})),n.d(t,"s",(function(){return _})),n.d(t,"n",(function(){return S}));var r=n(1),a=n(19),o=n(25),i=n.n(o),c="ADD_INGREDIENT",l="REMOVE_INGREDIENT",u="INGREDIENTS_LOADED",s="ORDER_LOADED",d="ORDER_LOAD_FAILED",h="ORDER_LOADING",m="AUTH_START",g="AUTH_SUCCESS",p="AUTH_FAILED",f="LOGOUT",b="SET_AUTH_REDIRECT_PATH",E=function(e){return{type:c,ingredientType:e}},v=function(e){return{type:l,ingredientType:e}},O=function(){return function(e){a.a.get("/ingredients.json").then((function(t){var n;e((n=t.data,{type:u,ingredients:n}))})).catch((function(e){return console.log(e)}))}},w=function(e){return function(t){t({type:h}),a.a.get("/orders.json?auth=".concat(e)).then((function(e){var n=[];for(var a in e.data)n.push(Object(r.a)(Object(r.a)({},e.data[a]),{},{id:a}));t({type:s,orders:n})})).catch((function(e){return t({type:d})}))}},y=function(){return localStorage.removeItem("authData"),localStorage.removeItem("expiryDate"),{type:f}},D=function(e){return function(t){setTimeout((function(){t(y())}),1e3*e)}},k=function(e){localStorage.setItem("authData",JSON.stringify(e));var t=new Date((new Date).getTime()+1e3*e.expiresIn);return localStorage.setItem("expiryDate",t),{type:g,authData:e}},j=function(e,t,n){return function(r){r({type:m});var a={email:e,password:t,returnSecureToken:!0},o=n?"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDmW9J98Z7AaQAv6ykvYS0nm4vZhNMqAuw":"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDmW9J98Z7AaQAv6ykvYS0nm4vZhNMqAuw";i.a.post(o,a).then((function(e){r(k(e.data)),r(D(e.data.expiresIn))})).catch((function(e){r(function(e){return{type:p,error:e}}(e.response.data.error))}))}},_=function(e){return{type:b,path:e}},S=function(){return function(e){var t=JSON.parse(localStorage.getItem("authData"));if(null!==t){var n=new Date(localStorage.getItem("expiryDate"));n>new Date?(e(k(t)),e(D((n.getTime()-(new Date).getTime())/1e3))):e(y())}else e(y())}}},44:function(e,t,n){e.exports={content:"Layout_content__2IqAV"}},45:function(e,t,n){e.exports=n.p+"static/media/logo.b8503d26.png"},46:function(e,t,n){e.exports={Logo:"Logo_Logo__1kgjg"}},47:function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__2CQ95"}},48:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2zC_q"}},49:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__138dJ"}},51:function(e,t,n){e.exports={Modal:"Modal_Modal__1KCRU"}},53:function(e,t,n){e.exports=n(81)},58:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),i=n.n(o),c=n(18),l=(n(58),n(10)),u=n(11),s=n(13),d=n(12),h=n(3),m=n(14),g=n(44),p=n.n(g),f=n(26),b=n.n(f),E=n(45),v=n.n(E),O=n(46),w=n.n(O),y=function(e){return a.a.createElement("div",{className:w.a.Logo},a.a.createElement("img",{src:v.a,alt:"logo"}))},D=n(47),k=n.n(D),j=n(28),_=n.n(j),S=function(e){return a.a.createElement("li",{className:_.a.NavigationItem},a.a.createElement(c.b,{to:e.link,activeClassName:_.a.active},e.children))},T=function(e){return a.a.createElement("ul",{className:k.a.NavigationItems},a.a.createElement(S,{link:"/burger-builder"},"Burger Builder"),e.isAuth?a.a.createElement(S,{link:"/orders"},"Orders"):null,e.isAuth?a.a.createElement(S,{link:"/logout"},"Logout"):a.a.createElement(S,{link:"/auth"},"Authenticate"))},I=n(48),A=n.n(I),N=function(e){return a.a.createElement("div",{className:A.a.DrawerToggle,onClick:function(){return e.toggleSideDrawer()}},a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))},L=function(e){return a.a.createElement("header",{className:b.a.Toolbar},a.a.createElement(N,{toggleSideDrawer:e.sideDrawerToggleHandler}),a.a.createElement("div",{className:b.a.Logo},a.a.createElement(y,null)),a.a.createElement("nav",{className:b.a.DeskTopOnly},a.a.createElement(T,{isAuth:e.isAuth})))},C=n(21),x=n.n(C),R=n(24),M=function(e){var t=e.showBackDrop?x.a.Open:x.a.Close;return a.a.createElement(m.a,null,a.a.createElement(R.a,{show:e.showBackDrop,clicked:e.close}),a.a.createElement("div",{className:[x.a.SideDrawer,t].join(" "),onClick:e.close},a.a.createElement("div",{className:x.a.Logo},a.a.createElement(y,null)),a.a.createElement("nav",null,a.a.createElement(T,{isAuth:e.isAuth}))))},B=n(16),H=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={showSideDrawer:!1},e.sideDrawerCloseHandler=function(){e.setState({showSideDrawer:!1})},e.toggleSideDrawerHandler=function(){e.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},e}return Object(u.a)(n,[{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(L,{isAuth:this.props.isAuthenticated,sideDrawerToggleHandler:this.toggleSideDrawerHandler}),a.a.createElement(M,{isAuth:this.props.isAuthenticated,showBackDrop:this.state.showSideDrawer,close:this.sideDrawerCloseHandler}),a.a.createElement("main",{className:p.a.content},this.props.children))}}]),n}(r.Component),P=Object(B.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),null)(H),U=n(35),q=function(e,t){return function(n){Object(s.a)(o,n);var r=Object(d.a)(o);function o(){var e;Object(l.a)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).state={error:null},e.errorModalCloseHandler=function(){e.setState({error:null})},e}return Object(u.a)(o,[{key:"componentDidMount",value:function(){var e=this;console.log("WithErrorHandler Mounted"),this.responseInterceptor=t.interceptors.response.use((function(e){return e}),(function(t){e.setState({error:t})})),this.requestInterceptor=t.interceptors.request.use((function(e){return e}),(function(t){e.setState({error:t})}))}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.requestInterceptor),t.interceptors.response.eject(this.responseInterceptor)}},{key:"render",value:function(){return a.a.createElement(m.a,null,a.a.createElement(U.a,{show:this.state.error,modalClose:this.errorModalCloseHandler},this.state.error?this.state.error.message:null),a.a.createElement(e,this.props))}}]),o}(r.Component)},J=n(19),z=n(4),W=a.a.lazy((function(){return n.e(3).then(n.bind(null,100))})),G=a.a.lazy((function(){return n.e(5).then(n.bind(null,101))})),Q=a.a.lazy((function(){return n.e(7).then(n.bind(null,102))})),Z=a.a.lazy((function(){return n.e(4).then(n.bind(null,97))})),Y=a.a.lazy((function(){return n.e(8).then(n.bind(null,98))})),F=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){console.log("App Mounted"),this.props.tryAutoSignIn()}},{key:"render",value:function(){var e=a.a.createElement(h.d,null,a.a.createElement(h.b,{path:"/burger-builder",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(W,e))}}),a.a.createElement(h.b,{path:"/auth",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Z,e))}}),a.a.createElement(h.a,{exact:!0,from:"/",to:"/burger-builder"}),a.a.createElement(h.a,{to:"/"}));return this.props.isAuthenticated&&(e=a.a.createElement(h.d,null,a.a.createElement(h.b,{path:"/burger-builder",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(W,e))}}),a.a.createElement(h.b,{path:"/checkout",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(G,e))}}),a.a.createElement(h.b,{path:"/orders",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Q,e))}}),a.a.createElement(h.b,{path:"/logout",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Y,e))}}),a.a.createElement(h.b,{path:"/auth",render:function(e){return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(Z,e))}}),a.a.createElement(h.a,{exact:!0,from:"/",to:"/burger-builder"}),a.a.createElement(h.a,{to:"/"}))),a.a.createElement("div",null,a.a.createElement(P,null,e))}}]),n}(r.Component),V=Object(B.b)((function(e){return{isAuthenticated:null!==e.auth.token}}),(function(e){return{tryAutoSignIn:function(){return e(z.n())}}}))(q(F,J.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=n(15),$=n(1),X={ingredients:null,totalPrice:0,ingredientPrice:{salad:1.5,meat:2.3,cheese:2.1,bacon:.9},isBuilding:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.a:var n=e.ingredients[t.ingredientType],r=n+1,a=Object($.a)({},e.ingredients);a[t.ingredientType]=r;var o=e.ingredientPrice[t.ingredientType],i=e.totalPrice,c=i+o;return Object($.a)(Object($.a)({},e),{},{ingredients:a,totalPrice:c,isBuilding:!0});case z.j:var l=e.ingredients[t.ingredientType],u=l-1,s=Object($.a)({},e.ingredients);s[t.ingredientType]=u>=0?u:0;var d=e.ingredientPrice[t.ingredientType],h=e.totalPrice,m=h-d;return Object($.a)(Object($.a)({},e),{},{ingredients:s,totalPrice:m,isBuilding:!0});case z.e:return Object($.a)(Object($.a)({},e),{},{ingredients:t.ingredients,totalPrice:5});default:return e}},te=n(32),ne={orders:[],loading:!0},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.g:return Object($.a)(Object($.a)({},e),{},{orders:Object(te.a)(t.orders),loading:!1});case z.i:return Object($.a)(Object($.a)({},e),{},{loading:!1});case z.h:return Object($.a)(Object($.a)({},e),{},{loading:!0});default:return Object($.a)({},e)}},ae={token:null,userId:null,error:null,loading:!1,refreshToken:null,authRedirectPath:"/"},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.c:return Object($.a)(Object($.a)({},e),{},{loading:!0,error:null});case z.b:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:t.error});case z.d:return Object($.a)(Object($.a)({},e),{},{loading:!1,error:null,token:t.authData.idToken,userId:t.authData.localId,refreshToken:t.authData.refreshToken});case z.f:return Object($.a)(Object($.a)({},e),{},{token:null,userId:null,refreshToken:null,loading:!1,error:null});case z.k:return Object($.a)(Object($.a)({},e),{},{authRedirectPath:t.path});default:return Object($.a)({},e)}},ie=n(52),ce=Object(K.c)({burgerBuilder:ee,orders:re,auth:oe}),le=K.d,ue=Object(K.e)(ce,le(Object(K.a)((function(e){return function(t){return function(n){console.log("[Middleware] action dispatching");var r=t(n);return console.log("[Middleware] next state",e.getState()),r}}}),ie.a))),se=a.a.createElement(B.a,{store:ue},a.a.createElement(c.a,null,a.a.createElement(V,null)));i.a.render(a.a.createElement(a.a.StrictMode,null,se),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.d86b1cbe.chunk.js.map